<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sai‚Äôs 10 Questions</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b81;--muted:#9aa4b2;--glass:rgba(255,255,255,0.03)}
    html,body,#root{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: linear-gradient(180deg,#071025 0%, #071a2d 100%);
      color:#e6eef6;
      -webkit-font-smoothing:antialiased;
    }
    .container{
      max-width:720px;
      margin:48px auto;
      padding:28px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }
    h1{margin:0 0 12px 0;font-size:20px}
    p.lead{margin:4px 0 18px 0;color:var(--muted)}
    .card{
      background:var(--card);
      padding:20px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.02);
    }
    .question{
      font-size:18px;
      margin-bottom:14px;
    }
    .btn-row{display:flex;gap:12px;flex-wrap:wrap}
    button.btn{
      padding:10px 16px;
      border-radius:8px;
      border:0;
      cursor:pointer;
      font-weight:600;
      background:var(--glass);
      color:inherit;
      transition:transform .12s ease, box-shadow .12s ease;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
    }
    button.btn:hover{transform:translateY(-3px)}
    button.primary{
      background: linear-gradient(90deg,#ff869d,#ff6b81);
      color:white;
      box-shadow: 0 8px 30px rgba(255,107,129,0.12);
    }
    .muted{color:var(--muted);font-size:13px;margin-top:10px}
    .progress{height:8px;background:rgba(255,255,255,0.04);border-radius:8px;overflow:hidden;margin:14px 0}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,#6ee7b7,#60a5fa);width:0%}
    .notice{margin-top:12px;color:#ffd7d7;background:rgba(255,215,215,0.06);padding:10px;border-radius:8px;border:1px solid rgba(255,215,215,0.06)}
    .final{margin-top:20px;padding:18px;border-radius:10px;background:linear-gradient(90deg, rgba(17,24,39,0.7), rgba(11,21,35,0.6));text-align:center}
    .final h2{margin:0 0 8px 0}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React + ReactDOM + Babel (for quick local/demo use) -->
  <script type="module">
  import React, { useState, useEffect, useRef } from "https://esm.sh/react@18";
  import { createRoot } from "https://esm.sh/react-dom@18/client";

  // your React code EXACTLY as-is here (JSX works natively in esm.sh)
  // just paste your App() function + questions + render call inside this module tag
</script>
 
    const { useState, useEffect, useRef } = React;

    const questions = [
      { text: "Is your name Gagan Arora?", correct: ["yes"] },
      { text: "Do you like it when someone appreciates you for who you are?", correct: ["yes"] },
      { text: "Do you think you deserve someone who genuinely values you?", correct: ["yes"] },
      { text: "Is loyalty something you truly care about?", correct: ["yes"] },
      { text: "Do you like Sai Agarwal?", correct: ["yes","hell yes"], options: ["yes","hell yes","no"] },
      { text: "Do you enjoy talking to Sai even when it‚Äôs about random silly things?", correct: ["yes"] },
      { text: "Do you think meeting each other was destiny?", correct: ["yes"] },
      { text: "Do u know that you are special for me?", correct: ["yes"] },
      { text: "Do you want to meet me soon?", correct: ["yes"] },
      { text: "Do you feel like telling Sai ‚ÄúI wolf you‚Äù again right now?", correct: ["yes"] },
    ];

    function App() {
      const [index, setIndex] = useState(0);
      const [message, setMessage] = useState("");
      const [completed, setCompleted] = useState(false);
      const [showFinalMessage, setShowFinalMessage] = useState(false);
      const [history, setHistory] = useState([]);
      const topObserverRef = useRef(null);

      useEffect(() => {
        // show/hide final message depending on whether window is at top
        function onScroll() {
          if (window.pageYOffset <= 2) {
            // at top
            setShowFinalMessage(true);
          } else {
            setShowFinalMessage(false);
          }
        }
        window.addEventListener("scroll", onScroll, { passive: true });
        // initial check
        onScroll();
        return () => window.removeEventListener("scroll", onScroll);
      }, []);

      useEffect(() => {
        // reset any transient messages on question change
        setMessage("");
      }, [index]);

      function handleAnswer(answer) {
        const q = questions[index];
        const normalized = String(answer).trim().toLowerCase();

        if (q.correct.includes(normalized)) {
          // correct -> move forward
          setHistory(h => [...h, { q: q.text, a: answer }]);
          const next = index + 1;
          if (next >= questions.length) {
            setCompleted(true);
            setIndex(index + 1); // move beyond last so UI can show completion state
            // small scroll to show the final control if needed
            setTimeout(() => window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' }), 250);
          } else {
            setIndex(next);
          }
        } else {
          // incorrect -> don't move forward, show polite message
          setMessage("That doesn't look like the answer I'm expecting. Try again ‚ù§Ô∏è");
          // subtle shake/flash could be added; for simplicity we show a message
        }
      }

      function ScrollToTopAndReveal() {
        window.scrollTo({ top: 0, behavior: "smooth" });
        // final message will be revealed by scroll listener when top is reached
      }

      const progressPercent = Math.min(100, Math.round((index / questions.length) * 100));

      return (
        <div className="container">
          <h1>Sai's 10 Questions</h1>
          <p className="lead">Answer the questions truthfully. Correct answers let you go to the next one.</p>

          <div className="card">
            <div className="progress"><i style={{width: progressPercent + "%"}} /></div>

            {index < questions.length ? (
              <>
                <div className="question">{index + 1}. {questions[index].text}</div>

                <div className="btn-row">
                  { // render options
                    (questions[index].options ?? ["yes","no"]).map(opt => (
                      <button
                        key={opt}
                        className={"btn " + (opt === "yes" || opt === "hell yes" ? "primary" : "")}
                        onClick={() => handleAnswer(opt)}
                      >
                        {opt.charAt(0).toUpperCase() + opt.slice(1)}
                      </button>
                    ))
                  }
                </div>

                {message && <div className="notice">{message}</div>}
                <div className="muted">Progress: {index} / {questions.length}</div>
              </>
            ) : (
              <>
                <div className="final">
                  <h2>You completed the questions üéâ</h2>
                  <p className="small">Thank you for answering. When you scroll to the top (or press the button below), a message will appear.</p>

                  <div style={{marginTop:12}}>
                    <button className="btn primary" onClick={ScrollToTopAndReveal}>Scroll to Top</button>
                  </div>

                  <div style={{marginTop:14, textAlign:"left"}}>
                    <strong>Your answers:</strong>
                    <ul style={{marginTop:8, paddingLeft:18}}>
                      {history.map((h,i)=> <li key={i}><strong>Q{i+1}:</strong> {h.q} ‚Äî <em>{h.a}</em></li>)}
                    </ul>
                  </div>
                </div>
              </>
            )}
          </div>

          <div style={{height:500}}></div>

          {/* the message shown at top when user scrolls to top */}
          <div style={{position:"fixed", top:12, left:"50%", transform:"translateX(-50%)", width:"min(720px,92%)", pointerEvents:"none"}}>
            {showFinalMessage && (
              <div style={{pointerEvents:"auto", background:"rgba(255,255,255,0.04)", padding:"14px 18px", borderRadius:10, textAlign:"center", border:"1px solid rgba(255,255,255,0.04)"}}>
                <strong style={{fontSize:16}}>So, being a tech girlie i want to tell you that I am glad to have you as a part of my life.</strong>
              </div>
            )}
          </div>

          <footer>
            <div>Tip: You can manually scroll to the top to see the message appear.</div>
          </footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
